<%= form_for [:admin, @admin_post], html: {class: 'form-horizontal ng-pristine ng-valid'}, remote: true do |f| %>
  <% if @admin_post.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@admin_post.errors.count, "error") %> prohibited this admin_post from being saved:</h2>

      <ul>
      <% @admin_post.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>
  <div class="row">
    <div class="col-md-6">
      <%= f.label :title %><br>
      <%= f.text_field :title, class: 'form-control' %>
    </div>
    <div class="col-md-6">
      <%= f.label :description %><br>
      <%= f.text_field :description, class: 'form-control' %>
    </div>
    <div class="col-md-6">
      <%= f.label :main_picture_url %><br>
      <%= f.text_field :main_picture_url, class: 'form-control' %>
    </div>
  </div>

  <div class="actions" style="margin-top:20px;">
    <%= f.submit %>
  </div>
<% end %>

<div class="my-tasks">
  <h2>Listings</h2>
  <% puts @admin_post_details.inspect %>
  <% if !@admin_post_details.nil? %>
    <% @admin_post_details.each do |post| %>
      <% @post = post %>
      <%= render 'post' %>
    <% end %>
  <% end %>
</div>

<%= link_to 'New Post Link', new_admin_post_detail_path(post_id: @admin_post.id), remote: true, class: "new-task-button" %>
